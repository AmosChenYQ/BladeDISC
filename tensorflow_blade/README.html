

<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>TensorFlow-Blade &mdash; BladeDISC 1.0.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 

</head>

<body>
    <header>
        <div class="container">
            <a class="site-nav-toggle hidden-lg-up"><i class="icon-menu"></i></a>
            <a class="site-title" href="../index.html">
                BladeDISC
            </a>
        </div>
    </header>


<div class="breadcrumbs-outer hidden-xs-down">
    <div class="container">
        















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="breadcrumbs">
    
      <li><a href="../index.html">Docs</a></li>
        
      <li>TensorFlow-Blade</li>
    
    
      <li class="breadcrumbs-aside">
        
            
            <a href="../_sources/tensorflow_blade/README.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>
</div>
    </div>
</div>
    <div class="main-outer">
        <div class="container">
            <div class="row">
                <div class="col-12 col-lg-3 site-nav">
                    
<div role="search">
    <form class="search" action="../search.html" method="get">
        <div class="icon-input">
            <input type="text" name="q" placeholder="Search" />
            <span class="icon-search"></span>
        </div>
        <input type="submit" value="Go" class="d-hidden" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div>
                    <div class="site-nav-tree">
                        
                            
                            
                                <ul>
<li class="toctree-l1"><a class="reference internal" href="../README.html">BladeDISC Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../README.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../README.html#api-quickview">API QuickView</a></li>
<li class="toctree-l2"><a class="reference internal" href="../README.html#setup-and-examples">Setup and Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../README.html#publications">Publications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../README.html#tutorials-and-documents-for-developers">Tutorials and Documents for Developers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../README.html#presentations-and-talks">Presentations and Talks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../README.html#how-to-contribute">How to Contribute</a></li>
<li class="toctree-l2"><a class="reference internal" href="../README.html#building-status">Building Status</a></li>
<li class="toctree-l2"><a class="reference internal" href="../README.html#faq">FAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../README.html#contact-us">Contact Us</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../docs/install_with_docker.html">Install with Docker</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../docs/install_with_docker.html#download-a-bladedisc-docker-image">Download a BladeDISC Docker Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="../docs/install_with_docker.html#start-a-docker-container">Start a Docker Container</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../docs/build_from_source.html">Build from Source</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../docs/build_from_source.html#prerequisite">Prerequisite</a></li>
<li class="toctree-l2"><a class="reference internal" href="../docs/build_from_source.html#checkout-the-source">Checkout the Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="../docs/build_from_source.html#launch-a-development-docker-container">Launch a development Docker container</a></li>
<li class="toctree-l2"><a class="reference internal" href="../docs/build_from_source.html#building-bladedisc-for-tensorflow-users">Building BladeDISC for TensorFlow Users</a></li>
<li class="toctree-l2"><a class="reference internal" href="../docs/build_from_source.html#building-bladedisc-for-pytorch-users">Building BladeDISC for PyTorch Users</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../docs/quickstart.html">Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../docs/quickstart.html#quickstart-for-tensorflow-users">Quickstart for TensorFlow Users</a></li>
<li class="toctree-l2"><a class="reference internal" href="../docs/quickstart.html#quickstart-for-pytorch-users">Quickstart for PyTorch Users</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../docs/contribution.html">How to Contribute</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../docs/contribution.html#local-development-environment">Local Development Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../docs/contribution.html#submit-a-pull-request-to-bladedisc">Submit a Pull Request to BladeDISC</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../docs/tutorials/index.html">Tutorials on Example Use Cases</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../docs/tutorials/tensorflow_inference_and_training.html">Use case of TensorFlow Inference and Training</a></li>
<li class="toctree-l2"><a class="reference internal" href="../docs/tutorials/torch_bert_inference.html">Use case of PyTorch Inference</a></li>
</ul>
</li>
</ul>

                            
                        
                    </div>
                </div>
                <div class="col-12 col-lg-9">
                    <div class="document">
                        
                            
  <section id="tensorflow-blade">
<h1>TensorFlow-Blade<a class="headerlink" href="#tensorflow-blade" title="Permalink to this heading">¶</a></h1>
<p>Blade is an optimization toolkit that support multiple tools (aka, <strong>TensorRT</strong> and <strong>DISC</strong> for open sourced version) as backend. It facilitates users in using TensorRT as backend transparently, and provides automatic selection between TensorRT and DISC provided with specific workloads. The automatic selection logics will be opensourced soon. TensorFlow-Blade is Blade for TensorFlow frontends.</p>
<section id="build-and-use-tensorflow-blade">
<h2>build and use TensorFlow-Blade<a class="headerlink" href="#build-and-use-tensorflow-blade" title="Permalink to this heading">¶</a></h2>
<p><strong>NOTE: Currently only <code class="docutils literal notranslate"><span class="pre">python3</span></code> is supported.</strong></p>
<p><a class="reference internal" href="docs/build_from_source.html"><span class="doc">build and install TensorFlow-Blade</span></a></p>
<p><a class="reference internal" href="docs/tutorials/tensorflow_blade_bert_inference.html"><span class="doc">optimize BERT model with TensorFlow-Blade</span></a></p>
</section>
<section id="design-of-tf2trt-optimization-wip">
<h2>design of tf2trt optimization(WIP)<a class="headerlink" href="#design-of-tf2trt-optimization-wip" title="Permalink to this heading">¶</a></h2>
</section>
<section id="make-contribution-for-tensorflow-blade">
<h2>Make contribution for TensorFlow-Blade<a class="headerlink" href="#make-contribution-for-tensorflow-blade" title="Permalink to this heading">¶</a></h2>
<p>First ref to <a class="reference internal" href="../docs/contribution.html"><span class="doc">How to make contribution</span></a> to setup the basic develop environment and fork code to your own branch.
Then we will get to know the code for TensorFlow-Blade.</p>
<section id="code-layout-for-tensorflow-blade">
<h3>Code layout for TensorFlow-Blade<a class="headerlink" href="#code-layout-for-tensorflow-blade" title="Permalink to this heading">¶</a></h3>
<p>All the code for TensorFlow-Blade are under the <code class="docutils literal notranslate"><span class="pre">tensorflor_blade</span></code> dir.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>tree -L <span class="m">1</span>
.
├── BUILD
├── build_defs.bzl
├── build_pip_package.sh
├── build.py
├── common_internal.py
├── dist
├── docs
├── examples
├── README.md
├── requirement-tf2.4-cu110.txt
├── setup.py
├── src
├── tests
├── tf_blade
├── venv
├── version.py
├── WORKSPACE
├── workspace0.bzl
├── workspace1.bzl
└── workspace2.bzl
</pre></div>
</div>
<p>All the files with name containing <code class="docutils literal notranslate"><span class="pre">workspace</span></code> and <code class="docutils literal notranslate"><span class="pre">build</span></code> are all used for <strong>bazel build</strong>.
All the cpp source codes are under <code class="docutils literal notranslate"><span class="pre">src</span></code> dir.
All the python source codes are under <code class="docutils literal notranslate"><span class="pre">tf_blade</span></code> dir.
All the tests files are under <code class="docutils literal notranslate"><span class="pre">tests</span></code> dir.</p>
</section>
<section id="ci-pipeline-for-tensorflow-blade">
<h3>CI pipeline for TensorFlow-Blade<a class="headerlink" href="#ci-pipeline-for-tensorflow-blade" title="Permalink to this heading">¶</a></h3>
<p>When running CI actions for TensorFlow-Blade, all the <code class="docutils literal notranslate"><span class="pre">configure/build/package</span></code> stages as in <a class="reference internal" href="docs/build_from_source.html"><span class="doc">build and install TensorFlow-Blade</span></a> are executed. Also we will run the python linter check and run all the tests under tests dir.</p>
<ul class="simple">
<li><p>run checks for python and cpp code</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./build.py -s check
</pre></div>
</div>
<p>The checks will be done using python’s <code class="docutils literal notranslate"><span class="pre">flake8/black/mypy</span></code> modules.
Please make sure all the python functions or classes have <code class="docutils literal notranslate"><span class="pre">type</span> <span class="pre">hints</span></code> as we have done in current code.</p>
<p>As for cpp code, the check will be done by the <code class="docutils literal notranslate"><span class="pre">pre-commit</span></code> tool using clang-format.</p>
<ul class="simple">
<li><p>run unit tests</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./build.py -s <span class="nb">test</span>
</pre></div>
</div>
<p>All the unit tests under <code class="docutils literal notranslate"><span class="pre">tests/</span></code> dir will be executed.</p>
</section>
</section>
</section>


                        
                    </div>
                </div>
            </div>
        </div>
    </div>    


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0.0',
            LANGUAGE:'en',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/sphinx_highlight.js"></script>
    <script type="text/javascript" src="../_static/clipboard.min.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  
    <div class="footer" role="contentinfo">
        <div class="container">
            &#169; Copyright bladedisc-dev@list.alibaba-inc.com.
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.3.0.
        </div>
    </div>  

</body>
</html>